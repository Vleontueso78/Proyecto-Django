{% extends "finanzas/base.html" %}
{% load static %}

{% block title %}Completar dÃ­a pendiente{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/finanzas/finanzas_dashboard/global.css' %}">
<link rel="stylesheet" href="{% static 'css/finanzas/finanzas_dashboard/botones.css' %}">
<link rel="stylesheet" href="{% static 'css/finanzas/finanzas_dashboard/pendientes.css' %}">
<link rel="stylesheet" href="{% static 'css/finanzas/finanzas_dashboard/registro_diario.css' %}">
{% endblock %}

{% block content %}

<div class="card card-anim fade-in" style="max-width: 600px; margin: auto;">

    <h2 class="center" style="margin-bottom: 20px;">
        ğŸ“ Completar registro<br>
        <span class="muted">DÃ­a {{ fecha|date:"d/m/Y" }}</span>
    </h2>

    <form method="POST">
        {% csrf_token %}

        <!-- ====== PARA GASTAR ===== -->
        <div class="editable-field">
            <label for="input-para-gastar">Para gastar del dÃ­a</label>
            <input id="input-para-gastar"
                   type="number"
                   step="0.01"
                   name="para_gastar_dia"
                   class="editable-number"
                   value="{{ form_values.para_gastar_dia }}">
            <button class="edit-btn" data-target="input-para-gastar">âœ</button>
        </div>

        <!-- ====== ALIMENTO ===== -->
        <div class="editable-field">
            <label for="input-alimento">Alimento</label>
            <input id="input-alimento"
                   type="number"
                   step="0.01"
                   name="alimento"
                   class="editable-number"
                   value="{{ form_values.alimento }}">
            <button class="edit-btn" data-target="input-alimento">âœ</button>
        </div>

        <!-- ====== PRODUCTOS ===== -->
        <div class="editable-field">
            <label for="input-productos">Productos</label>
            <input id="input-productos"
                   type="number"
                   step="0.01"
                   name="productos"
                   class="editable-number"
                   value="{{ form_values.productos }}">
            <button class="edit-btn" data-target="input-productos">âœ</button>
        </div>

        <!-- ====== AHORRO / DEUDA ===== -->
        <div class="editable-field">
            <label for="input-ahorro">Ahorro / Deuda</label>
            <input id="input-ahorro"
                   type="number"
                   step="0.01"
                   name="ahorro_y_deuda"
                   class="editable-number"
                   value="{{ form_values.ahorro_y_deuda }}">
            <button class="edit-btn" data-target="input-ahorro">âœ</button>
        </div>

        <!-- ====== SOBRANTE AUTO ===== -->
        <div class="editable-field">
            <label>Sobrante (cÃ¡lculo automÃ¡tico)</label>
            <div class="presupuesto-display">
                <span class="signo-sobrante">$</span>
                <input type="number" id="sobrante-calculado"
                       value="0" readonly class="editable-number">
            </div>
        </div>

        <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 20px;">
            ğŸ’¾ Guardar registro
        </button>
    </form>

    <div class="center" style="margin-top: 20px;">
        <a class="btn btn-ghost" href="{% url 'finanzas:registros_pendientes' %}">
            â† Volver a pendientes
        </a>
    </div>

</div>

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/finanzas/sobrante.js' %}"></script>
<script src="{% static 'js/finanzas/dashboard.js' %}"></script>
{% endblock %}